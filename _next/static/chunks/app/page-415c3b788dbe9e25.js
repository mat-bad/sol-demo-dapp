(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1651:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var a=n(5155),l=n(3599),r=n(5644),s=n(9021);let i=()=>{let{network:e,setNetwork:t}=(0,r.u)();return(0,a.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,a.jsx)("label",{htmlFor:"cluster-select",children:"Select Cluster: "}),(0,a.jsxs)("select",{id:"cluster-select",value:e,onChange:e=>{t(e.target.value)},children:[(0,a.jsx)("option",{value:s.B.Devnet,children:"Devnet"}),(0,a.jsx)("option",{value:s.B.Mainnet,children:"Mainnet"})]})]})};var o=n(2115),c=n(1392),d=n(2361);let u=()=>{let{publicKey:e}=(0,c.v)(),{connection:t}=(0,d.w)(),[n,l]=(0,o.useState)(null);return((0,o.useEffect)(()=>{(async()=>{if(e)try{let n=await t.getBalance(e);l(n/1e9)}catch(e){console.error("Error fetching balance:",e),l(null)}})()},[e,t]),e)?(0,a.jsxs)("p",{children:["Balance: ",null!==n?"".concat(n.toFixed(4)," SOL"):"Loading..."]}):(0,a.jsx)("p",{children:"Connect your wallet to view balance."})};var h=n(3570),x=n(2340),j=n(7699),v=n(8136),m=n(5693);let g=()=>{let{publicKey:e,sendTransaction:t,connected:n}=(0,c.v)(),{network:l}=(0,r.u)(),[s,i]=(0,o.useState)(null),[d,u]=(0,o.useState)(""),[g,p]=(0,o.useState)(""),[f,w]=(0,o.useState)(""),[y,S]=(0,o.useState)(""),[b,C]=(0,o.useState)(null),[k,T]=(0,o.useState)(null),[B,E]=(0,o.useState)("");(0,o.useEffect)(()=>{let e=(0,h.Kw)(l);i(new h.Ng(e,"confirmed"))},[l]),(0,o.useEffect)(()=>{(async()=>{if(s&&e&&d)try{let t=new h.J3(d),n=(0,x.Xt)(t,e),a=await (0,j.sU)(s,n),l=await (0,x.b6)(s,t);T(l.decimals);let r=Number(a.amount)/10**l.decimals;C(r),E("")}catch(e){console.error("Error fetching balance:",e),C(null),T(null),E("Invalid token mint address or no associated token account found.")}})()},[s,e,d]);let M=async()=>{if(!n||!e||!s)return void E("Wallet not connected.");try{let n=new h.J3(d),a=new h.J3(g),l=(0,x.Xt)(n,e),r=(0,x.Xt)(n,a),i=await (0,x.b6)(s,n),o=Number(f)*10**i.decimals,c=new h.ZX().add((0,v.fl)(l,n,r,e,o,i.decimals));y&&(c=c.add((0,m.T)(y)));let u=await t(c,s);await s.confirmTransaction(u,"confirmed"),E("Transfer successful. Transaction signature: ".concat(u))}catch(e){console.error("Transfer failed:",e),E("Transfer failed. Please check the details and try again.")}};return(0,a.jsxs)("div",{style:{margin:"2rem"},children:[(0,a.jsx)("h2",{children:"Send SPL Token"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Token Mint Address:"}),(0,a.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),style:{width:"100%"}})]}),null!==b&&null!==k&&(0,a.jsxs)("p",{children:["Your Balance: ",b.toFixed(k)," tokens"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Recipient Address:"}),(0,a.jsx)("input",{type:"text",value:g,onChange:e=>p(e.target.value),style:{width:"100%"}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Transaction Memo:"}),(0,a.jsx)("input",{type:"text",value:y,onChange:e=>S(e.target.value),style:{width:"100%"}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Amount to Send:"}),(0,a.jsx)("input",{type:"number",value:f,onChange:e=>w(e.target.value),style:{width:"100%"}})]}),(0,a.jsx)("button",{onClick:M,style:{marginTop:"1rem"},children:"Send Token"}),B&&(0,a.jsx)("p",{children:B})]})};var p=n(4134).Buffer;let f=()=>{let{connection:e}=(0,d.w)(),{publicKey:t,signMessage:n,sendTransaction:l}=(0,c.v)(),[r,s]=(0,o.useState)(""),[i,u]=(0,o.useState)("0"),[x,j]=(0,o.useState)(null),[v,m]=(0,o.useState)(""),[g,f]=(0,o.useState)(null),w=async()=>{if(!t||!n)return;let e=new TextEncoder().encode(v),a=await n(e);f(p.from(a).toString("hex"))},y=async()=>{if(!t||!l)return;let n=new h.J3(r),a=Math.round(1e9*parseFloat(i)),s=new h.ZX().add(h.yq.transfer({fromPubkey:t,toPubkey:n,lamports:a})),o=await l(s,e);await e.confirmTransaction(o,"processed"),j(o)};return(0,a.jsxs)("div",{style:{marginTop:"2rem"},children:[(0,a.jsxs)("section",{style:{marginTop:40},children:[(0,a.jsx)("h2",{children:"Sign a Message"}),(0,a.jsx)("textarea",{rows:3,value:v,onChange:e=>m(e.target.value),placeholder:"Message to sign",style:{width:"100%"}}),(0,a.jsx)("button",{onClick:w,disabled:!t||!n,children:"Sign Message"}),g&&(0,a.jsx)("pre",{style:{wordBreak:"break-all"},children:g})]}),(0,a.jsxs)("section",{style:{marginTop:40},children:[(0,a.jsx)("h2",{children:"Send SOL"}),(0,a.jsx)("input",{type:"text",value:r,onChange:e=>s(e.target.value),placeholder:"Recipient address",style:{width:"100%",marginBottom:8}}),(0,a.jsx)("input",{type:"number",step:"0.000000001",value:i,onChange:e=>u(e.target.value),placeholder:"Amount (SOL)",style:{width:"100%",marginBottom:8}}),(0,a.jsx)("button",{onClick:y,disabled:!t||!l,children:"Send SOL"}),x&&(0,a.jsxs)("p",{children:["Transaction Signature:"," ",(0,a.jsx)("a",{href:"https://explorer.solana.com/tx/".concat(x,"?cluster=devnet"),target:"_blank",rel:"noopener noreferrer",children:x})]})]})]})};function w(){return(0,a.jsxs)("main",{style:{maxWidth:600,margin:"auto",padding:20},children:[(0,a.jsx)("h1",{children:"Solana dApp"}),(0,a.jsx)(i,{}),(0,a.jsx)(l.x,{}),(0,a.jsx)(u,{}),(0,a.jsx)(f,{}),(0,a.jsx)(g,{})]})}},4901:(e,t,n)=>{Promise.resolve().then(n.bind(n,1651))},5644:(e,t,n)=>{"use strict";n.d(t,{WalletContextProvider:()=>h,u:()=>u});var a=n(5155),l=n(2115),r=n(3570),s=n(4119),i=n(9057),o=n(6329),c=n(9021);n(3669);let d=(0,l.createContext)(void 0),u=()=>{let e=(0,l.useContext)(d);if(!e)throw Error("useWalletContext must be used within a WalletContextProvider");return e},h=e=>{let{children:t}=e,[n,u]=(0,l.useState)(c.B.Devnet),h=(0,l.useMemo)(()=>(0,r.Kw)(n),[n]),x=(0,l.useMemo)(()=>[],[]);return(0,a.jsx)(d.Provider,{value:{network:n,setNetwork:u},children:(0,a.jsx)(s.S,{endpoint:h,children:(0,a.jsx)(i.r,{wallets:x,autoConnect:!0,children:(0,a.jsx)(o.I,{children:t})})})})}},7790:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[252,956,545,757,441,684,358],()=>t(4901)),_N_E=e.O()}]);